(function(e){function t(t){for(var c,o,r=t[0],s=t[1],l=t[2],d=0,b=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&b.push(n[o][0]),n[o]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);u&&u(t);while(b.length)b.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],c=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(c=!1)}c&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var c={},n={app:0},i=[];function o(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=c,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(a,c,function(t){return e[t]}.bind(null,c));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ppr-testwork/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0152":function(e,t,a){"use strict";a("85d0")},"1d800":function(e,t,a){},"2e8a":function(e,t,a){},4208:function(e,t,a){},"447e":function(e,t,a){},"4e2c":function(e,t,a){"use strict";a("9fd0")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("7a23");function n(e,t,a,n,i,o){var r=Object(c["A"])("the-header"),s=Object(c["A"])("the-content"),l=Object(c["A"])("the-footer");return Object(c["t"])(),Object(c["g"])(c["a"],null,[Object(c["j"])(r),Object(c["j"])(s),Object(c["j"])(l)],64)}var i={class:"container"};function o(e,t){var a=Object(c["A"])("router-view");return Object(c["t"])(),Object(c["g"])("div",i,[Object(c["j"])(a)])}const r={};r.render=o;var s=r,l=a("9b19"),u=a.n(l);Object(c["w"])("data-v-1bcbd624");var d={class:"bg-dark mb-4 d-flex align-items-center"},b=Object(c["h"])("img",{src:u.a,alt:""},null,-1),f=Object(c["i"])(" Киновтопку "),j=[b,f];function O(e,t){return Object(c["t"])(),Object(c["g"])("header",d,j)}Object(c["u"])();a("dfdc");const m={};m.render=O,m.__scopeId="data-v-1bcbd624";var p=m;Object(c["w"])("data-v-e997cba4");var g={class:"bg-dark mt-4 d-flex align-items-center"};function v(e,t){return Object(c["t"])(),Object(c["g"])("footer",g," Киновтопку © 2021 ")}Object(c["u"])();a("d3a5");const h={};h.render=v,h.__scopeId="data-v-e997cba4";var y=h,_={components:{TheHeader:p,TheContent:s,TheFooter:y}};a("f368");_.render=n;var w=_,C=a("6c02");function I(e,t,a,n,i,o){var r=Object(c["A"])("the-filter"),s=Object(c["A"])("movies-list");return Object(c["t"])(),Object(c["g"])(c["a"],null,[Object(c["j"])(r),Object(c["j"])(s)],64)}var k=Object(c["h"])("h2",null,"List",-1),T={class:"row"};function M(e,t,a,n,i,o){var r=Object(c["A"])("movies-item");return Object(c["t"])(),Object(c["g"])(c["a"],null,[k,Object(c["h"])("div",T,[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(o.movies,(function(e){return Object(c["t"])(),Object(c["e"])(r,{key:e.id,id:e.id,title:o.computedTitle(e),release_date:o.computedDate(e),poster_path:e.poster_path,overview:e.overview},null,8,["id","title","release_date","poster_path","overview"])})),128))])],64)}a("b0c0");Object(c["w"])("data-v-028726b8");var D={class:"col-6 col-lg-4 col-xl-3 mb-4"},A={class:"card"},P={class:"card-poster"},S=["src","alt"],$={class:"card-body"},Y={class:"text-muted mb-1"},z={key:0,class:"card-text"};function x(e,t,a,n,i,o){var r=Object(c["A"])("router-link");return Object(c["t"])(),Object(c["g"])("div",D,[Object(c["h"])("div",A,[Object(c["h"])("div",P,[Object(c["j"])(r,{to:o.movieDetailLink},{default:Object(c["H"])((function(){return[null!==a.poster_path?(Object(c["t"])(),Object(c["g"])("img",{key:0,src:o.imagesConfig.base_url+o.imagesConfig.poster_size+a.poster_path,alt:a.title,class:"card-img-top"},null,8,S)):Object(c["f"])("",!0)]})),_:1},8,["to"])]),Object(c["h"])("div",$,[Object(c["j"])(r,{class:"mb-2",to:o.movieDetailLink},{default:Object(c["H"])((function(){return[Object(c["i"])(Object(c["C"])(a.title),1)]})),_:1},8,["to"]),Object(c["h"])("small",Y,Object(c["C"])(o.formatedDate),1),a.overview?(Object(c["t"])(),Object(c["g"])("p",z,Object(c["C"])(a.overview),1)):Object(c["f"])("",!0)])])])}Object(c["u"])();a("4d90"),a("99af");var L={props:["id","title","release_date","overview","poster_path"],computed:{formatedDate:function(){var e=new Date(this.release_date),t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),c=e.getFullYear();return"".concat(t,".").concat(a,".").concat(c)},movieDetailLink:function(){return{name:"movie",params:{movieId:this.id}}},imagesConfig:function(){return this.$store.getters.getImagesConf}},mounted:function(){this.$store.dispatch("getImagesConf")}};a("6ae7");L.render=x,L.__scopeId="data-v-028726b8";var F=L,H={components:{MoviesItem:F},computed:{movies:function(){return this.$store.getters.getMovies},computedTitle:function(){return function(e){return e.name?e.name:e.title}},computedDate:function(){return function(e){return e.first_air_date?e.first_air_date:e.release_date}}},mounted:function(){this.$store.dispatch("getMovies")}};H.render=M;var K=H;Object(c["w"])("data-v-0dd5464b");var U=Object(c["h"])("h2",null,"Filter",-1),J={class:"col-6 col-md-5"},B=Object(c["h"])("label",{for:"type"},"Type",-1),E=["value"],V={class:"col-6 col-md-5"},N=Object(c["h"])("label",{for:"year"},"Year",-1),R=["value"],q=Object(c["h"])("div",{class:"col-12 col-md-2 pt-4"},[Object(c["h"])("button",{class:"btn btn-primary"},"Submit")],-1);function G(e,t,a,n,i,o){return Object(c["t"])(),Object(c["g"])(c["a"],null,[U,Object(c["h"])("form",{onSubmit:t[2]||(t[2]=Object(c["J"])((function(){return o.setData&&o.setData.apply(o,arguments)}),["prevent"])),class:"form-group row align-items-end"},[Object(c["h"])("div",J,[B,Object(c["I"])(Object(c["h"])("select",{name:"type",id:"type",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.selectedMovieType=e})},[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(i.allTypes,(function(e){return Object(c["t"])(),Object(c["g"])("option",{key:e,value:e},Object(c["C"])(e),9,E)})),128))],512),[[c["E"],i.selectedMovieType]])]),Object(c["h"])("div",V,[N,Object(c["I"])(Object(c["h"])("select",{name:"year",id:"year",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.selectedYear=e})},[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(o.allYears,(function(e){return Object(c["t"])(),Object(c["g"])("option",{key:e,value:e},Object(c["C"])(e),9,R)})),128))],512),[[c["E"],i.selectedYear]])]),q],32)],64)}Object(c["u"])();var Q={data:function(){return{allTypes:["movie","tv"],selectedYear:this.$store.getters.getFilterParams.year,selectedMovieType:this.$store.getters.getFilterParams.movieType}},computed:{allYears:function(){return this.$store.getters.getAllYears}},methods:{setData:function(){this.$store.dispatch("setData",{year:this.selectedYear,type:this.selectedMovieType})}},mounted:function(){this.$store.dispatch("getAllYears")}};a("4e2c");Q.render=G,Q.__scopeId="data-v-0dd5464b";var W=Q,X={components:{MoviesList:K,TheFilter:W}};X.render=I;var Z=X;function ee(e,t,a,n,i,o){var r=Object(c["A"])("movies-detail");return Object(c["t"])(),Object(c["e"])(r)}Object(c["w"])("data-v-ad884998");var te=Object(c["i"])("Back to list"),ae={class:"row details"},ce={key:0,class:"col-md-4 mb-4 details-poster"},ne=["src","alt"],ie={class:"col-md-8"},oe={key:0},re=Object(c["h"])("h2",null,"Overview",-1),se=Object(c["i"])("Back to list");function le(e,t,a,n,i,o){var r=Object(c["A"])("router-link"),s=Object(c["A"])("detail-credits"),l=Object(c["A"])("detail-images");return Object(c["t"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("h1",null,Object(c["C"])(o.details.title),1),Object(c["h"])("p",null,[Object(c["j"])(r,{to:o.moviesListLink},{default:Object(c["H"])((function(){return[te]})),_:1},8,["to"])]),Object(c["h"])("div",ae,[null!==o.details.poster_path?(Object(c["t"])(),Object(c["g"])("div",ce,[Object(c["h"])("img",{src:o.imagesConfig.base_url+o.imagesConfig.poster_size+o.details.poster_path,alt:o.details.title},null,8,ne)])):Object(c["f"])("",!0),Object(c["h"])("div",ie,[o.details.overview?(Object(c["t"])(),Object(c["g"])("div",oe,[re,Object(c["h"])("p",null,Object(c["C"])(o.details.overview),1)])):Object(c["f"])("",!0),Object(c["j"])(s,{movieId:a.movieId},null,8,["movieId"])])]),Object(c["j"])(l,{alt:o.details.title,movieId:a.movieId},null,8,["alt","movieId"]),Object(c["h"])("p",null,[Object(c["j"])(r,{to:o.moviesListLink},{default:Object(c["H"])((function(){return[se]})),_:1},8,["to"])])],64)}Object(c["u"])(),Object(c["w"])("data-v-7571272c");var ue={class:"credits"},de={key:0,class:"mb-4"},be=Object(c["h"])("h2",null,"Crew",-1),fe={class:"credits-list"},je={key:1,class:"mb-4"},Oe=Object(c["h"])("h2",null,"Cast",-1),me={class:"credits-list"};function pe(e,t,a,n,i,o){return Object(c["t"])(),Object(c["g"])("div",ue,[o.credits.crew?(Object(c["t"])(),Object(c["g"])("div",de,[be,Object(c["h"])("ul",fe,[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(o.credits.crew,(function(e){return Object(c["t"])(),Object(c["g"])("li",{key:e.id},Object(c["C"])(e.name),1)})),128))])])):Object(c["f"])("",!0),o.credits.cast?(Object(c["t"])(),Object(c["g"])("div",je,[Oe,Object(c["h"])("ul",me,[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(o.credits.cast,(function(e){return Object(c["t"])(),Object(c["g"])("li",{key:e.id},Object(c["C"])(e.name),1)})),128))])])):Object(c["f"])("",!0)])}Object(c["u"])();var ge={props:["movieId"],computed:{credits:function(){return this.$store.getters.getCredits}},mounted:function(){this.$store.dispatch("getCredits",{movieId:this.movieId})}};a("6d2e");ge.render=pe,ge.__scopeId="data-v-7571272c";var ve=ge;Object(c["w"])("data-v-69995ea4");var he={key:0,class:"mb-4"},ye=Object(c["h"])("h2",null,"Images",-1),_e=["onClick"],we=["src","alt"];function Ce(e,t,a,n,i,o){var r=Object(c["A"])("slide"),s=Object(c["A"])("navigation"),l=Object(c["A"])("carousel"),u=Object(c["A"])("the-modal");return Object(c["t"])(),Object(c["g"])(c["a"],null,[o.images.length?(Object(c["t"])(),Object(c["g"])("div",he,[ye,Object(c["j"])(l,{settings:i.settings,breakpoints:i.breakpoints},{addons:Object(c["H"])((function(){return[Object(c["j"])(s)]})),default:Object(c["H"])((function(){return[(Object(c["t"])(!0),Object(c["g"])(c["a"],null,Object(c["z"])(o.images,(function(e){return Object(c["t"])(),Object(c["e"])(r,{key:e.file_path},{default:Object(c["H"])((function(){return[Object(c["h"])("button",{onClick:function(t){return o.showModal(o.imagesConfig.base_url+o.imagesConfig.full_size+e.file_path)}},[Object(c["h"])("img",{src:o.imagesConfig.base_url+o.imagesConfig.poster_size+e.file_path,alt:"".concat(a.alt,"-").concat(e.file_path)},null,8,we)],8,_e)]})),_:2},1024)})),128))]})),_:1},8,["settings","breakpoints"])])):Object(c["f"])("",!0),i.modalCanShow?(Object(c["t"])(),Object(c["e"])(u,{key:1,onCloseModal:o.closeModal,imagePath:i.imagePath},null,8,["onCloseModal","imagePath"])):Object(c["f"])("",!0)],64)}Object(c["u"])(),Object(c["w"])("data-v-4f7242da");var Ie={class:"modal-mask"},ke={class:"modal-wrapper"},Te={class:"modal-dialog"},Me=Object(c["h"])("span",{"aria-hidden":"true"},"×",-1),De=[Me],Ae=["src"];function Pe(e,t,a,n,i,o){return Object(c["t"])(),Object(c["e"])(c["b"],{name:"modal"},{default:Object(c["H"])((function(){return[Object(c["h"])("div",Ie,[Object(c["h"])("div",ke,[Object(c["h"])("div",Te,[Object(c["h"])("button",{type:"button",class:"close",onClick:t[0]||(t[0]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})},De),Object(c["h"])("img",{src:a.imagePath,alt:"imagePath"},null,8,Ae)])])])]})),_:1})}Object(c["u"])();var Se={props:["imagePath"],methods:{closeModal:function(){this.$emit("close-modal")}}};a("9f71");Se.render=Pe,Se.__scopeId="data-v-4f7242da";var $e=Se,Ye=a("0b81"),ze=(a("4001"),{components:{Carousel:Ye["a"],Slide:Ye["d"],Pagination:Ye["c"],Navigation:Ye["b"],TheModal:$e},data:function(){return{modalCanShow:!1,imagePath:"",settings:{itemsToShow:1,wrapAround:!0},breakpoints:{700:{itemsToShow:3.5,snapAlign:"center"},1024:{itemsToShow:5,snapAlign:"start"}}}},props:["movieId","alt"],computed:{images:function(){return this.$store.getters.getImages},imagesConfig:function(){return this.$store.getters.getImagesConf}},methods:{showModal:function(e){this.modalCanShow=!0,this.imagePath=e},closeModal:function(){this.modalCanShow=!1,this.imagePath=""}},mounted:function(){this.$store.dispatch("getImages",{movieId:this.movieId}),this.$store.dispatch("getImagesConf")}});a("6906");ze.render=Ce,ze.__scopeId="data-v-69995ea4";var xe=ze,Le={components:{DetailCredits:ve,DetailImages:xe},props:["movieId"],computed:{details:function(){return this.$store.getters.getDetails},imagesConfig:function(){return this.$store.getters.getImagesConf},moviesListLink:function(){return{name:"movies"}}},mounted:function(){this.$store.dispatch("getDetails",{movieId:this.movieId}),this.$store.dispatch("getImagesConf")}};a("0152");Le.render=le,Le.__scopeId="data-v-ad884998";var Fe=Le,He={components:{MoviesDetail:Fe}};He.render=ee;var Ke=He,Ue=[{path:"/",redirect:"/discover"},{path:"/discover",name:"movies",component:Z},{path:"/discover/:movieId",name:"movie",component:Ke,props:!0},{path:"/:notFound(.*)",redirect:"/discover"}],Je=Object(C["a"])({history:Object(C["b"])(),routes:Ue}),Be=Je,Ee=(a("fb6a"),a("5502")),Ve=a("bc3a"),Ne=a.n(Ve),Re=Object(Ee["a"])({state:{year:(new Date).getFullYear(),movieType:"movie",apiKey:"e6f3e9cbbe87f79abd025c26d81894c7",language:"en-US",movies:[],details:[],credits:[],images:[],config:{base_url:"",full_size:"original",poster_size:""},allYears:[]},mutations:{setData:function(e,t){e.year=t.year,e.movieType=t.type}},actions:{getMovies:function(e){Ne.a.get("/discover/".concat(e.state.movieType,"?api_key=").concat(e.state.apiKey,"&sort_by=popularity.desc&year=").concat(e.state.year,"&first_air_date_year=").concat(e.state.year)).then((function(t){e.state.movies=t.data.results.slice(0,10)}))},getDetails:function(e,t){Ne.a.get("/".concat(e.state.movieType,"/").concat(t.movieId,"?api_key=").concat(e.state.apiKey)).then((function(t){e.state.details=t.data}))},getCredits:function(e,t){Ne.a.get("/".concat(e.state.movieType,"/").concat(t.movieId,"}/credits?api_key=").concat(e.state.apiKey)).then((function(t){e.state.credits=t.data}))},getImages:function(e,t){Ne.a.get("/".concat(e.state.movieType,"/").concat(t.movieId,"/images?api_key=").concat(e.state.apiKey)).then((function(t){e.state.images=t.data.backdrops}))},getImagesConf:function(e){Ne.a.get("/configuration?api_key=".concat(e.state.apiKey)).then((function(t){e.state.config.base_url=t.data.images.base_url,e.state.config.poster_size=t.data.images.poster_sizes[3]}))},setData:function(e,t){e.commit("setData",t),e.dispatch("getMovies")},getAllYears:function(e){for(var t=1900,a=(new Date).getFullYear(),c=a;c>=t;c--)e.state.allYears.push(c)}},getters:{getMovies:function(e){return e.movies},getCredits:function(e){return e.credits},getImages:function(e){return e.images},getDetails:function(e){return e.details},getImagesConf:function(e){return e.config},getFilterParams:function(e){return{year:e.year,movieType:e.movieType}},getAllYears:function(e){return e.allYears}}});a("f9e3");Ne.a.defaults.baseURL="https://api.themoviedb.org/3",Object(c["d"])(w).use(Re).use(Be).mount("#app")},6249:function(e,t,a){},6906:function(e,t,a){"use strict";a("6249")},"6ae7":function(e,t,a){"use strict";a("2e8a")},"6d2e":function(e,t,a){"use strict";a("447e")},"85d0":function(e,t,a){},"9b19":function(e,t,a){e.exports=a.p+"img/logo.b123807c.svg"},"9f71":function(e,t,a){"use strict";a("b233")},"9fd0":function(e,t,a){},b233:function(e,t,a){},d3a5:function(e,t,a){"use strict";a("1d800")},dfdc:function(e,t,a){"use strict";a("f3fd")},f368:function(e,t,a){"use strict";a("4208")},f3fd:function(e,t,a){}});
//# sourceMappingURL=app.65540d15.js.map